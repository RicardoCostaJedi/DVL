<!DOCTYPE html>
<html>
  <head>
    <title>DVL Tests</title>
    <link type="text/css"         href="../css/smoothness/jquery-ui-1.8.7.custom.css" rel="Stylesheet" />	
    <script type="text/javascript" src="../js/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="../js/jquery-ui-1.8.7.custom.js"></script>
    <script type="text/javascript" src="../d3.js"></script>
    <script type="text/javascript" src="../protovis-r3.2.js"></script>
    <script type="text/javascript" src="../sprintf.js"></script>
    <script type="text/javascript" src="../dvl.js"></script>
    <script type="text/javascript" src="tests.js"></script>
    <style type="text/css">

body {
  font: 12px sans-serif;
}

    </style>

  </head>
  <body>
    <pre id="out"></pre>
  </body>
  <script type="text/javascript">
    function output(str) {
      var o = $("#out");
      o.text(o.text() + str + "\n");
    }
    
    function dummy() { }
    
    output("Starting tests...");
    passed = 0;
    var i = 0;
    
    function next() {
      if(i < tests.length) {
        setTimeout(doNextTest, 1);
      } else {
        output("Done! Passed: " + passed + ", Failed: " + (tests.length - passed));
      }
    }
    
    function doNextTest() {
      dvl.clearAll();
      
      var test = tests[i];
      
      try {
        var ok = (test.test(dummy) == true);
        passed += ok
        if(ok) {
          output("Test: " + test.name + " / Yes");
        } else {
          output("Test: " + test.name + " / No :-(");
        }
      } catch(e) {
        output("Error in: " + test.name);
        // ?
      }
      
      i++
      next();
    }
    
    next();
  </script>
</html>
